<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>2025 IT본부 퀴즈</title>
  <meta name="description" content="시맨틱 태그, 폼, 테이블, 이미지 등 예제 모음" />
  <style>
    /* 간단한 스타일 (테스트용) */
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR"; line-height: 1.6; padding: 1rem; }
    header, nav, main, footer, aside, section { margin-bottom: 1rem; }
    nav ul { list-style: none; padding: 0; display:flex; gap:0.5rem; }
    .container { max-width: 900px; margin: 0 auto; }
    table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ccc; padding: 0.5rem; text-align: left; }
    form > * { display:block; margin:0.4rem 0; }
    .box {
    display: inline-block;
    width: 1em;           /* 글자 크기 기준 정사각형 */
    height: 1em;
    border: 1px solid #333;
    border-radius: 3px;
    margin: 0 2px;
    vertical-align: middle; /* 텍스트와 수평 정렬 */
}

  </style>
	<script type="text/javascript">
    var step;
    
	  function httpReq(loadURL, callback) {
  	  var xhr = new XMLHttpRequest();
				
				xhr.onload = function(){
					
					if(xhr.readyState == 4 && xhr.status == 200) {
            callback(null, xhr.responseText);
					}
	      }
	      
	     	xhr.open("GET", loadURL);
				xhr.send();
	  }
	  
	  function init() {
	    httpReq("https://tpay2.billgate.net/paytest/odkwon/event_2025/step.jsp?gubun=GET", stepResult);
	  }
	  
	  function stepResult(err, result) {
     step = result;

	   if ( step == "0") {
	      document.getElementById("intro").style.display = "";	   
	   }else{
  	   httpReq("https://raw.githubusercontent.com/oduck-kwon/event/main/quiz_2025.json", jsonResult);
	   }

	  }
	  
	  function jsonResult(err, result) {
    
	    const json = JSON.parse(result);
	    
	    const jsonSub = json[step];
	    	    
	    var title = jsonSub["title"];
	    var content = jsonSub["content"];

      document.getElementById("title").innerHTML = title;
      
      if ( Array.isArray(content) ) {
        console.log("배열");

        for (var i = 0; i < content.length; i++) {
          const newLi = document.createElement('li');
          newLi.textContent = content[i];
          document.getElementById("content_array").appendChild(newLi);
        }
        
        document.getElementById("content_array").style.display = "";	
      }else{
        console.log("단일");     
         document.getElementById("content").innerHTML = content.replace(/\*/gi, '<span class="box"></span>');
         document.getElementById("content").style.display = "";	
      }
      
      document.getElementById("quiz").style.display = "";	
	  }
	</script>
</head>
<body onload="init();">
  <div class="container">
    <!-- 헤더 -->
    <header>
      <h1>2025 IT본부 퀴즈</h1>
      <p>모두 참여해 주시면 감사하겠습니다. (make by 권오덕) </p>
    </header>
    
    <main>
      <!-- 소개 섹션 -->
      <section id="intro" style="display:none;">
        <p style="color:red;"><strong>잠시후 퀴즈 행사가 시작 됩니다.<br>잠시만 기다려주세요.</strong></p>
      </section>
      
      <section id="quiz" style="display:none;">
        <h2 id="title">&nbsp;</h2>
        <p id="content" style="font-weight: bold;color:red;display:none;">&nbsp;</p>
        <ul id="content_array" style="font-weight: bold;color:red;display:none;">
        </ul>
      </section>
    </main>

    <!-- 푸터 -->
    <footer>
    </footer>
  </div>

</body>
</html>
